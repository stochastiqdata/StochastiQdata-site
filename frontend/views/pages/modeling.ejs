<%
  // Calcul du score
  const score = dataset.global_score || 0;
  const circumference = 2 * Math.PI * 36;
  const strokeDashoffset = circumference - (score / 100) * circumference;

  // Déterminer le type de modélisation principal
  const modelingType = dataset.modeling_types?.[0] || 'regression';

  // Générer des suggestions de cas d'usage basées sur les tags
  const tags = dataset.tags || [];
  const isIARD = tags.includes('iard');
  const isSante = tags.includes('sante');
  const isVie = tags.includes('vie');
  const isFraude = tags.includes('fraude');
  const isPricing = tags.includes('pricing');
  const isReserving = tags.includes('reserving');
%>

<div class="max-w-5xl mx-auto">
  <!-- Breadcrumb -->
  <nav class="mb-6">
    <div class="flex items-center gap-2 text-sm">
      <a href="/" class="text-gray-500 hover:text-primary-500 transition-colors">Dashboard</a>
      <svg class="w-4 h-4 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
      <a href="/modelisation" class="text-gray-500 hover:text-primary-500 transition-colors">Modélisation</a>
      <svg class="w-4 h-4 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
      <span class="text-gray-900 dark:text-white font-medium truncate max-w-[200px]"><%= dataset.name %></span>
    </div>
  </nav>

  <!-- Header du dataset -->
  <div class="card p-6 mb-6">
    <div class="flex items-start justify-between gap-6">
      <div class="flex-1">
        <div class="flex items-center gap-3 mb-2">
          <h1 class="text-2xl font-bold text-gray-900 dark:text-white"><%= dataset.name %></h1>
          <span class="badge badge-<%= dataset.source %>"><%= SOURCE_LABELS[dataset.source] %></span>
        </div>

        <% if (dataset.description) { %>
          <p class="text-gray-600 dark:text-gray-400 mb-4"><%= dataset.description %></p>
        <% } %>

        <!-- Tags -->
        <div class="flex flex-wrap gap-2 mb-4">
          <% (dataset.tags || []).forEach(tag => { %>
            <span class="tag tag-<%= tag %>"><%= TAG_LABELS[tag] || tag %></span>
          <% }); %>
        </div>

        <!-- Boutons d'action -->
        <div class="flex flex-wrap gap-3">
          <% if (dataset.source_url) { %>
            <a href="<%= dataset.source_url %>"
               target="_blank"
               rel="noopener noreferrer"
               class="inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary-500 to-teal-500 hover:from-primary-600 hover:to-teal-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-[1.02]">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
              Télécharger les données
            </a>
          <% } %>

          <% if (dataset.data_dictionary_url) { %>
            <a href="<%= dataset.data_dictionary_url %>"
               target="_blank"
               rel="noopener noreferrer"
               class="inline-flex items-center gap-2 px-5 py-2.5 bg-gray-100 dark:bg-navy-700 hover:bg-gray-200 dark:hover:bg-navy-600 text-gray-700 dark:text-gray-300 font-medium rounded-xl transition-all duration-300">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
              </svg>
              Documentation
            </a>
          <% } %>
        </div>
      </div>

      <!-- Grand cercle de score -->
      <div class="score-circle shrink-0" title="Score: <%= score %>/100">
        <svg width="100" height="100" viewBox="0 0 80 80">
          <circle cx="40" cy="40" r="36" fill="none" stroke="#E5E7EB" stroke-width="6"/>
          <defs>
            <linearGradient id="scoreGradientLarge" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#3B82F6"/>
              <stop offset="100%" stop-color="#22C55E"/>
            </linearGradient>
          </defs>
          <circle cx="40" cy="40" r="36" fill="none" stroke="url(#scoreGradientLarge)" stroke-width="6" stroke-linecap="round" stroke-dasharray="<%= circumference %>" stroke-dashoffset="<%= strokeDashoffset %>"/>
        </svg>
        <span class="score-value text-2xl font-bold text-gray-900 dark:text-white"><%= score %></span>
      </div>
    </div>
  </div>

  <!-- Section: Ce que vous pouvez apprendre -->
  <div class="card p-6 mb-6 border-l-4 border-primary-500">
    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center">
        <svg class="w-5 h-5 text-primary-600 dark:text-primary-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
        </svg>
      </div>
      Ce que vous pouvez apprendre avec ce dataset
    </h2>

    <div class="grid gap-4 md:grid-cols-2">
      <!-- Compétences techniques -->
      <div class="p-4 rounded-xl bg-gray-50 dark:bg-navy-700/50">
        <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2">
          <svg class="w-4 h-4 text-blue-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
          Compétences techniques
        </h3>
        <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
          <% if (isIARD || isPricing) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Modélisation GLM (Poisson, Gamma, Tweedie)
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Calcul de la prime pure et technique
            </li>
          <% } %>
          <% if (isFraude) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Classification binaire et gestion du déséquilibre
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Feature engineering pour détection d'anomalies
            </li>
          <% } %>
          <% if (isReserving) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Méthodes de provisionnement (Chain Ladder, Mack)
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Construction de triangles de développement
            </li>
          <% } %>
          <% if (isVie) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Analyse de survie (Kaplan-Meier, Cox)
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Tables de mortalité et projections
            </li>
          <% } %>
          <% if (isSante) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Modélisation des dépenses de santé
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Segmentation et profils patients
            </li>
          <% } %>
          <% if (!isIARD && !isFraude && !isReserving && !isVie && !isSante && !isPricing) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Exploration et analyse de données
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
              Modélisation prédictive
            </li>
          <% } %>
          <li class="flex items-start gap-2">
            <svg class="w-4 h-4 text-green-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            Validation croisée et évaluation des modèles
          </li>
        </ul>
      </div>

      <!-- Applications métier -->
      <div class="p-4 rounded-xl bg-gray-50 dark:bg-navy-700/50">
        <h3 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2">
          <svg class="w-4 h-4 text-violet-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
          Applications métier
        </h3>
        <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
          <% if (isIARD) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Tarification automobile ou MRH
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Analyse de sinistralité
            </li>
          <% } %>
          <% if (isFraude) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Système de scoring anti-fraude
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Priorisation des dossiers à contrôler
            </li>
          <% } %>
          <% if (isReserving) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Estimation des provisions IBNR
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Reporting réglementaire Solvabilité II
            </li>
          <% } %>
          <% if (isVie) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Calcul de provisions mathématiques
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Tarification assurance vie
            </li>
          <% } %>
          <% if (isSante) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Prévision des coûts de santé
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Gestion des risques santé
            </li>
          <% } %>
          <% if (!isIARD && !isFraude && !isReserving && !isVie && !isSante) { %>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Analyse de données actuarielles
            </li>
            <li class="flex items-start gap-2">
              <svg class="w-4 h-4 text-violet-500 mt-0.5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
              Prise de décision data-driven
            </li>
          <% } %>
        </ul>
      </div>
    </div>
  </div>

  <!-- Section: Exemple de projet -->
  <div class="card p-6 mb-6">
    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-cyan-100 dark:bg-cyan-900/30 flex items-center justify-center">
        <svg class="w-5 h-5 text-cyan-600 dark:text-cyan-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
          <line x1="8" y1="21" x2="16" y2="21"/>
          <line x1="12" y1="17" x2="12" y2="21"/>
        </svg>
      </div>
      Exemple de projet avec ce dataset
    </h2>

    <!-- Étapes du projet -->
    <div class="relative">
      <div class="absolute left-6 top-8 bottom-8 w-0.5 bg-gray-200 dark:bg-navy-600"></div>

      <div class="space-y-6">
        <!-- Étape 1 -->
        <div class="relative flex gap-4">
          <div class="w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center z-10 shrink-0">
            <span class="text-blue-600 dark:text-blue-400 font-bold">1</span>
          </div>
          <div class="flex-1 pt-2">
            <h3 class="font-semibold text-gray-900 dark:text-white mb-1">Exploration des données</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Analysez la structure, les distributions, les valeurs manquantes et les corrélations entre variables.
            </p>
            <div class="mt-2 flex flex-wrap gap-2">
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">pandas.describe()</span>
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">seaborn.heatmap()</span>
            </div>
          </div>
        </div>

        <!-- Étape 2 -->
        <div class="relative flex gap-4">
          <div class="w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center z-10 shrink-0">
            <span class="text-green-600 dark:text-green-400 font-bold">2</span>
          </div>
          <div class="flex-1 pt-2">
            <h3 class="font-semibold text-gray-900 dark:text-white mb-1">Préparation & Feature Engineering</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Nettoyez les données, créez de nouvelles variables et préparez les features pour la modélisation.
            </p>
            <div class="mt-2 flex flex-wrap gap-2">
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">sklearn.preprocessing</span>
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">feature_engine</span>
            </div>
          </div>
        </div>

        <!-- Étape 3 -->
        <div class="relative flex gap-4">
          <div class="w-12 h-12 rounded-xl bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center z-10 shrink-0">
            <span class="text-violet-600 dark:text-violet-400 font-bold">3</span>
          </div>
          <div class="flex-1 pt-2">
            <h3 class="font-semibold text-gray-900 dark:text-white mb-1">Modélisation</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Entraînez plusieurs modèles, optimisez les hyperparamètres et comparez les performances.
            </p>
            <div class="mt-2 flex flex-wrap gap-2">
              <% if (dataset.best_fit_models && dataset.best_fit_models.length > 0) { %>
                <% dataset.best_fit_models.slice(0, 3).forEach(model => { %>
                  <span class="text-xs px-2 py-1 rounded-md bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400"><%= MODEL_LABELS[model] || model %></span>
                <% }); %>
              <% } else { %>
                <span class="text-xs px-2 py-1 rounded-md bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400">scikit-learn</span>
                <span class="text-xs px-2 py-1 rounded-md bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400">statsmodels</span>
              <% } %>
            </div>
          </div>
        </div>

        <!-- Étape 4 -->
        <div class="relative flex gap-4">
          <div class="w-12 h-12 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center z-10 shrink-0">
            <span class="text-orange-600 dark:text-orange-400 font-bold">4</span>
          </div>
          <div class="flex-1 pt-2">
            <h3 class="font-semibold text-gray-900 dark:text-white mb-1">Évaluation & Interprétation</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400">
              Évaluez les performances avec les métriques adaptées et interprétez les résultats métier.
            </p>
            <div class="mt-2 flex flex-wrap gap-2">
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">Gini / AUC</span>
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">RMSE / MAE</span>
              <span class="text-xs px-2 py-1 rounded-md bg-gray-100 dark:bg-navy-700 text-gray-600 dark:text-gray-400">SHAP</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modèles recommandés -->
  <div class="card p-6 mb-6">
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
      <svg class="w-5 h-5 text-violet-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
        <line x1="12" y1="19" x2="12" y2="22"/>
      </svg>
      Modèles recommandés (SOTA)
    </h2>

    <% if (dataset.best_fit_models && dataset.best_fit_models.length > 0) { %>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
        <% dataset.best_fit_models.forEach((model, index) => { %>
          <div class="p-4 rounded-xl bg-violet-50 dark:bg-violet-900/20 border border-violet-200 dark:border-violet-800 flex items-center gap-3">
            <span class="w-8 h-8 rounded-lg bg-violet-500 text-white flex items-center justify-center font-bold text-sm">
              <%= index + 1 %>
            </span>
            <span class="font-medium text-violet-700 dark:text-violet-300">
              <%= MODEL_LABELS[model] || model %>
            </span>
          </div>
        <% }); %>
      </div>
    <% } else { %>
      <p class="text-gray-500 dark:text-gray-400">Aucun modèle recommandé pour le moment.</p>
    <% } %>
  </div>

  <!-- Métadonnées -->
  <div class="card p-6 mb-6">
    <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Informations sur les données</h2>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <% if (dataset.row_count) { %>
        <div class="text-center p-4 rounded-xl bg-gray-50 dark:bg-navy-700">
          <p class="text-2xl font-bold text-gray-900 dark:text-white"><%= dataset.row_count.toLocaleString('fr-FR') %></p>
          <p class="text-sm text-gray-500 dark:text-gray-400">Lignes</p>
        </div>
      <% } %>

      <% if (dataset.column_count) { %>
        <div class="text-center p-4 rounded-xl bg-gray-50 dark:bg-navy-700">
          <p class="text-2xl font-bold text-gray-900 dark:text-white"><%= dataset.column_count %></p>
          <p class="text-sm text-gray-500 dark:text-gray-400">Colonnes</p>
        </div>
      <% } %>

      <% if (dataset.file_size_mb) { %>
        <div class="text-center p-4 rounded-xl bg-gray-50 dark:bg-navy-700">
          <p class="text-2xl font-bold text-gray-900 dark:text-white"><%= dataset.file_size_mb %></p>
          <p class="text-sm text-gray-500 dark:text-gray-400">MB</p>
        </div>
      <% } %>

      <div class="text-center p-4 rounded-xl bg-gray-50 dark:bg-navy-700">
        <p class="text-2xl font-bold text-gray-900 dark:text-white"><%= dataset.review_count || 0 %></p>
        <p class="text-sm text-gray-500 dark:text-gray-400">Avis</p>
      </div>
    </div>
  </div>

  <!-- Questions à explorer -->
  <div class="card p-6">
    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center">
        <svg class="w-5 h-5 text-amber-600 dark:text-amber-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
          <path d="M12 17h.01"/>
        </svg>
      </div>
      Questions à explorer avec ce dataset
    </h2>

    <div class="grid gap-3 md:grid-cols-2">
      <% if (isIARD || isPricing) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-blue-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quels facteurs influencent le plus la fréquence des sinistres ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-blue-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Comment segmenter le portefeuille par niveau de risque ?</p>
        </div>
      <% } %>
      <% if (isFraude) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-red-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quels patterns distinguent les déclarations frauduleuses ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-red-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Comment optimiser le seuil de détection (précision vs rappel) ?</p>
        </div>
      <% } %>
      <% if (isReserving) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-violet-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quel est le développement attendu des sinistres ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-violet-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quelle est l'incertitude sur les provisions estimées ?</p>
        </div>
      <% } %>
      <% if (isVie) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-purple-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Comment évolue la mortalité selon l'âge et le sexe ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-purple-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quels facteurs impactent la durée de survie ?</p>
        </div>
      <% } %>
      <% if (isSante) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-green-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quels profils génèrent les dépenses les plus élevées ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-green-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Comment prédire le risque d'hospitalisation ?</p>
        </div>
      <% } %>
      <% if (!isIARD && !isFraude && !isReserving && !isVie && !isSante && !isPricing) { %>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-cyan-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Quelles sont les variables les plus prédictives ?</p>
        </div>
        <div class="p-3 rounded-lg bg-gray-50 dark:bg-navy-700/50 border-l-4 border-cyan-500">
          <p class="text-sm text-gray-700 dark:text-gray-300">Comment améliorer la performance du modèle ?</p>
        </div>
      <% } %>
    </div>

    <!-- CTA vers modélisation -->
    <div class="mt-6 p-4 rounded-xl bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 text-center">
      <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
        Découvrez plus de cas d'usage et méthodologies sur notre page Modélisation
      </p>
      <a href="/modelisation" class="inline-flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-lg transition-colors">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
        </svg>
        Voir tous les parcours
      </a>
    </div>
  </div>
</div>
